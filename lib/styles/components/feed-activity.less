@prefix: graphjs;

@{prefix}-feed-activity.@{prefix}-root {
    display: block;
    // ThemeOption: color: @text-color-normal;
    .@{prefix}-content {
        .@{prefix}-activity {
            margin-top: 1.5em;
            & > * {
                margin-bottom: 1.5em;
                &:last-child {
                    margin-bottom: 0;
                }
            }
            .@{prefix}-item {
                position: relative;
                overflow: hidden;
                width: 100%;
                .border-radius(@border-radius-large);
                border: 1px;
                border-style: solid;
                // ThemeOption: border-color: fade(@default-color, 3%);
                border-color: transparent; // ThemeFix
                // ThemeOption: background-color: @background-color-contrast;
                .box-shadow(e("0 0 15px 0 fade(black, 5%), 0 2px 1px 0px fade(black, 7.5%)"));
                &:hover, &:active, &:focus {
                    .box-shadow(e("0 0 15px 0 fade(black, 5%), 0 2px 1px 0px fade(black, 7.5%)"));
                }
                & > .@{prefix}-credit {
                    .credit-metrics(2.5em);
                    margin: 1em;
                    margin-bottom: 0;
                }
                .@{prefix}-entry {
                    padding: 1em;
                    & > * {
                        width: 100%;
                    }
                    .@{prefix}-media {
                        &.@{prefix}-photo {
                            a {
                                text-align: center;
                                background-color: fade(black, 5%);
                                img {
                                    width: 100%;
                                    max-width: 100%;
                                    height: auto;
                                }
                            }
                        }
                        &.@{prefix}-video {
                            a {
                                position: relative;
                                text-align: center;
                                background-color: fade(black, 5%);
                                svg {
                                    position: absolute;
                                    top: calc(50% - 4em);
                                    left: calc(50% - 4em);
                                    width: 8em;
                                    height: 8em;
                                    path {
                                        fill: fade(white, 85%);
                                        stroke: fade(black, 5%);
                                        stroke-width: 1;
                                    }
                                }
                                img {
                                    width: 100%;
                                    max-width: 100%;
                                    height: auto;
                                }
                            }
                        }
                        &.@{prefix}-photoalbum {
                            margin-bottom: -2%;
                            .flex;
                            .justify-content(flex-start);
                            .flex-wrap(wrap);
                            a {
                                text-align: center;
                                margin-right: 2%;
                                margin-bottom: 2%;
                                width: 32%;
                                height: 32%;
                                &:nth-child(3n) {
                                    margin-right: 0;
                                }
                                .@{prefix}-container {
                                    width: 100%;
                                    height: 100%;
                                    padding-bottom: 100%;
                                    background-color: fade(black, 2.5%);
                                    background-position: center top;
                                    background-repeat: no-repeat;
                                    background-size: cover;
                                }
                            }
                        }
                        a {
                            display: block;
                        }
                    }
                }
                .@{prefix}-interaction {
                    padding-top: 0;
                    .@{prefix}-synopsis {
                        padding-left: .5em;
                        border-top: 1px solid fade(black, 5%);
                        & > * {
                            display: inline-block;
                            width: auto;
                            height: 2.5em;
                            line-height: 2.5em;
                            & > span {
                                font-size: .85em;
                                vertical-align: top;
                            }
                            .@{prefix}-unauthorized {
                                cursor: not-allowed;
                                svg {
                                    path {
                                        // ThemeOption: fill: @text-color-normal !important;
                                    }
                                }
                            }
                        }
                        .@{prefix}-rating-indicator {
                            .@{prefix}-icon {
                                display: block;
                                float: left;
                                position: relative;
                                width: 2.5em;
                                height: 2.5em;
                                text-align: center;
                                .border-radius(inherit);
                                &.@{prefix}-star {
                                    svg {
                                        path {
                                            fill: desaturate(orange, 70%);
                                        }
                                    }
                                    &.@{prefix}-upvoted {
                                        svg {
                                            path {
                                                fill: orange;
                                            }
                                        }
                                    }
                                }
                                &.@{prefix}-like {
                                    svg {
                                        path {
                                            fill: desaturate(dodgerblue, 70%);
                                        }
                                    }
                                    &.@{prefix}-upvoted {
                                        svg {
                                            path {
                                                fill: dodgerblue;
                                            }
                                        }
                                    }
                                }
                                &.@{prefix}-love {
                                    svg {
                                        padding-top: 3px;
                                        padding-bottom: 1px;
                                        path {
                                            fill: desaturate(crimson, 70%);
                                        }
                                    }
                                    &.@{prefix}-upvoted {
                                        svg {
                                            path {
                                                fill: crimson;
                                            }
                                        }
                                    }
                                }
                                &.@{prefix}-save {
                                    svg {
                                        padding-top: 3px;
                                        padding-bottom: 1px;
                                        path {
                                            fill: desaturate(lightseagreen, 70%);
                                        }
                                    }
                                    &.@{prefix}-upvoted {
                                        svg {
                                            path {
                                                fill: lightseagreen;
                                            }
                                        }
                                    }
                                }
                                svg {
                                    display: inline-block;
                                    position: relative;
                                    width: 100%;
                                    height: 50%;
                                    margin: 25% 0;
                                    path {
                                        // ThemeOption: fill: desaturate(@text-color-weak, 65%);
                                    }
                                }
                            }
                        }
                        .@{prefix}-comments-indicator {
                            .@{prefix}-icon {
                                display: block;
                                float: left;
                                position: relative;
                                width: 2.5em;
                                height: 2.5em;
                                text-align: center;
                                .border-radius(inherit);
                                svg {
                                    display: inline-block;
                                    position: relative;
                                    width: 100%;
                                    height: 50%;
                                    margin: 25% 0;
                                    padding-top: 3px;
                                    path {
                                        // ThemeOption: fill: desaturate(@text-color-normal, 65%);
                                    }
                                }
                            }
                        }
                    }
                    .@{prefix}-comment {
                        textarea {
                            width: calc(100% - 2em);
                            margin: 1em;
                            margin-top: 0;
                            .transition(all .25s ease);
                            &:focus {
                                .box-shadow(inset 0 0 1em 0 fade(black, 7.5%));
                            }
                        }
                    }
                }
                .@{prefix}-comments {
                    border-top: 1px solid fade(black, 5%);
                    background-color: fade(black, 5%);
                    .@{prefix}-comment {
                        margin-bottom: .25em;
                        padding: 1em;
                        padding-bottom: 0;
                        &:last-child {
                          margin-bottom: 0;
                            padding-bottom: 1em;
                        }
                        &.@{prefix}-pseudo {
                            // ThemeOption: background-color: fade(@primary-color, 15%);
                        }
                        .@{prefix}-credit {
                            .credit-metrics(2.5em);
                            margin-bottom: .25em;
                            img {
                                cursor: pointer;
                            }
                            span {
                                // ThemeOption: color: @text-color-normal;
                                b {
                                    cursor: pointer;
                                }
                            }
                        }
                        p {
                            margin-left: 3.6em;
                            .regular-font;
                            font-size: .95em;
                            line-height: 150%;
                            white-space: pre-wrap;
                            &.@{prefix}-editable {
                                padding: .75em 1em;
                                border-width: 1px;
                                border-style: dashed;
                                // ThemeOption: border-color: fade(@default-color, 15%);
                                border-color: transparent; // ThemeFix
                                // ThemeOption: background-color: @background-color-contrast;
                                outline: none;
                            }
                        }
                    }
                }
            }
        }
    }
}